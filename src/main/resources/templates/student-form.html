<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Information Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .form-container {
            border: 1px solid #ccc;
            padding: 20px;
            border-radius: 5px;
        }
        .form-header-box {
            border: 2px solid;
            border-radius: 2px;
            padding: 16px;
            text-align: center;
        }
        .form-header {
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-weight: bold;
        }
        .form-section {
            margin-bottom: 15px;
        }
        .form-field {
            margin-bottom: 10px;
        }
        .form-field label {
            display: block;
            font-weight: bold;
        }
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 10px;
        }
        .form-row .form-field {
            flex: 1;
        }
        .form-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .checkbox-group, .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        .checkbox-option, .radio-option {
            display: flex;
            align-items: center;
            gap: 5px;
        }
		        .error {
		    color: red;
		    font-size: 0.9em;
		    margin-top: 4px;
}
    </style>
</head>

<body>
    <div class="form-container">
        <div class="form-header-box">
            <span style="font-weight: bold;">TITLE: "EXPLORING SATISFACTION DRIVERS AMONG STUDENTS IN HIGHER EDUCATION INSTITUTIONS (HEI)"</span>
            <p>Your responses will remain confidential and used only for academic analysis. This survey takes 10–12 minutes to complete. Participation is voluntary.</p>
        </div>

        <form th:action="@{/submit}" th:object="${surveyStudent}" method="post">
            <div class="form-header">PART - I STUDENT INFORMATION</div>

            <div class="form-section">
                <div class="form-row">
                    <div class="form-field">
                        <label for="name">1. NAME:</label>
                        <input type="text" th:field="*{name}" class="form-input"  />
                        <div class="error" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
                    </div>
                    <div class="form-field">
                        <label for="college">COLLEGE:</label>
                        <input type="text" th:field="*{college}" class="form-input" />
                        <div class="error" th:if="${#fields.hasErrors('college')}" th:errors="*{college}"></div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-field">
                        <label for="email">2. EMAIL</label>
                        <input type="email" th:field="*{email}" class="form-input"  />
                        
                        <div class="error" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
                    </div>
                    <div class="form-field">
                        <label for="mobile">Mobile No.</label>
                        <input type="tel" th:field="*{mobile}" class="form-input" pattern="^[6-9]\d{9}$" maxlength="10" required />
                        <div class="error" th:if="${#fields.hasErrors('mobile')}" th:errors="*{mobile}"></div>
                    </div>
                </div>

                <div class="form-field">
                    <label>3. What is your stream at the Undergraduate (UG) level?</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" th:field="*{ugStreams}" value="PCM" /> PCM
                        </div>
                        <div class="radio-option">
                            <input type="radio" th:field="*{ugStreams}" value="PCB" /> PCB
                        </div>
                        <div class="radio-option">
                            <input type="radio" th:field="*{ugStreams}" value="Arts" /> Arts / Commerce
                        </div>
                        <div class="radio-option">
                            <input type="radio" th:field="*{ugStreams}" value="Others" /> Others
                            <input type="text" th:field="*{otherStream}" class="form-input" style="width: 150px;">
                        </div>
                    </div>
                    <div class="error" th:if="${#fields.hasErrors('ugStreams')}" th:errors="*{ugStreams}"></div>
                </div>

                <div class="form-field">
                    <label>4. Age of the Student</label>
                    <input type="text" th:field="*{age}" class="form-input" />
                    <div class="error" th:if="${#fields.hasErrors('age')}" th:errors="*{age}"></div>
                </div>

                <div class="form-field">
                    <label>5. Gender of the Student?</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" th:field="*{gender}" value="Male" /> Male
                        </div>
                        <div class="radio-option">
                            <input type="radio" th:field="*{gender}" value="Female" /> Female
                        </div>
                        <div class="radio-option">
                            <input type="radio" th:field="*{gender}" value="Transgender" /> Transgender
                        </div>
                    </div>
                    <div class="error" th:if="${#fields.hasErrors('gender')}" th:errors="*{gender}"></div>
                </div>

            
                
                 <div class="form-field">
                    <label>6. Marital Status</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" th:field="*{maritalStatus}" value="Married" /> Married
                        </div>
                        <div class="radio-option">
                            <input type="radio" th:field="*{maritalStatus}" value="Unmarried" /> Unmarried
                        </div>
                    </div>
                    <div class="error" th:if="${#fields.hasErrors('maritalStatus')}" th:errors="*{maritalStatus}"></div>
                </div>

                <div class="form-field">
                    <label>7. Course/Program you are studying?</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" th:field="*{program}" value="Graduate" /> Graduate
                        </div>
                        <div class="radio-option">
                            <input type="radio" th:field="*{program}" value="Post Graduate" /> Post Graduate
                        </div>
                        <div class="radio-option">
                            <input type="radio" th:field="*{program}" value="Others" /> Others
                            <input type="text" th:field="*{otherProgram}" class="form-input" style="width: 150px;">
                        </div>
                    </div>
                    <div class="error" th:if="${#fields.hasErrors('program')}" th:errors="*{program}"></div>
                </div>

                <div class="form-field">
                    <label>8. Employment Status</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" th:field="*{employment}" value="Not Employed" /> Not Employed / Full-time Student
                        </div>
                        <div class="radio-option">
                            <input type="radio" th:field="*{employment}" value="Private" /> Private Employee
                        </div>
                        <div class="radio-option">
                            <input type="radio" th:field="*{employment}" value="Business" /> Business
                        </div>
                        <div class="radio-option">
                            <input type="radio" th:field="*{employment}" value="Others" /> Others
                            <input type="text" th:field="*{otherEmployment}" class="form-input" style="width: 150px;">
                        </div>
                    </div>
                    <div class="error" th:if="${#fields.hasErrors('employment')}" th:errors="*{employment}"></div>
                </div>
                
                
                 <div class="form-field">
                <label>9. Year Level / Class Level</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" th:field="*{yearLevel}" value="1st Year" /> 1st Year
                    </div>
                    <div class="radio-option">
                        <input type="radio" th:field="*{yearLevel}" value="2nd Year" /> 2nd Year
                    </div>
                    <div class="radio-option">
                        <input type="radio" th:field="*{yearLevel}" value="Final Year" /> Final Year
                    </div>
                    <div class="radio-option">
                        <input type="radio" th:field="*{yearLevel}" value="Others" /> Others
                        <input type="text" th:field="*{otherYearLevel}" class="form-input" style="width: 150px;">
                    </div>
                </div>
                <div class="error" th:if="${#fields.hasErrors('yearLevel')}" th:errors="*{yearLevel}"></div>
            </div>

            <div class="form-field">
                <label>10. Average Monthly Family Income</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" th:field="*{income}" value="Below 15000" /> Below 15000
                    </div>
                    <div class="radio-option">
                        <input type="radio" th:field="*{income}" value="16000-25000" /> 16000-25000
                    </div>
                    <div class="radio-option">
                        <input type="radio" th:field="*{income}" value="26000-50000" /> 26000-50000
                    </div>
                    <div class="radio-option">
                        <input type="radio" th:field="*{income}" value="51000-1Lakh" /> 51000-1 Lakh
                    </div>
                    <div class="radio-option">
                        <input type="radio" th:field="*{income}" value="Above 1Lakh" /> Above 1 Lakh
                    </div>
                </div>
                <div class="error" th:if="${#fields.hasErrors('income')}" th:errors="*{income}"></div>
            </div>

            <div class="form-field">
                <label>11. Geographical Location</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" th:field="*{location}" value="Urban" /> Urban
                    </div>
                    <div class="radio-option">
                        <input type="radio" th:field="*{location}" value="Rural" /> Rural
                    </div>
                    <div class="radio-option">
                        <input type="radio" th:field="*{location}" value="Semi Urban" /> Semi Urban
                    </div>
                </div>
                <div class="error" th:if="${#fields.hasErrors('location')}" th:errors="*{location}"></div>
            </div>

            <div class="form-field">
                <label>12. Access to Technology</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" th:field="*{techAccess}" value="Full Access" /> Full Access (High-speed internet, own device)
                    </div>
                    <div class="radio-option">
                        <input type="radio" th:field="*{techAccess}" value="Limited Access" /> Limited Access (Shared device, slow/no internet)
                    </div>
                </div>
                <div class="error" th:if="${#fields.hasErrors('techAccess')}" th:errors="*{techAccess}"></div>
            </div>
            </div>


			 <fieldset th:object="${surveyResponse}"> 
            <div class="form-header">PART II</div>
             <div class="form-section">
            <div style="margin-bottom: 30px;">
                
                <table style="width: 100%; border-collapse: collapse; border: 1px solid #333; margin-bottom: 20px;">
                    <tr>
                        <td style="border: 1px solid #333; padding: 8px; width: 50%;">
                            <p>Please indicate your level of agreement with each statement using the following scale: 1
                                - Strongly Disagree, 2 - Disagree, 3 - Neutral, 4 - Agree, 5 - Strongly Agree  </p>
                        </td>
                        <td style="border: 1px solid #333; padding: 8px; width: 50%;">
                            <p>Instructions: For each scenario below, rank the four options by writing 1 (most
                                preferred) through 4 (least preferred) in the parentheses. Use each rank only once per
                                row.</p>
                        </td>
                    </tr>
                </table>

                <h3 style="text-align: center; margin-bottom: 15px;">PART B: Teaching Quality (ex-SERVQUAL Reliability +
                    Assurance)</h3>

                <table style="width: 100%; border-collapse: collapse; border: 1px solid #333;">
                    <thead>
                        <tr>
                            <th style="border: 1px solid #333; padding: 8px; width: 10%;">Code</th>
                            <th style="border: 1px solid #333; padding: 8px; width: 25%;">Aspect</th>
                            <th style="border: 1px solid #333; padding: 8px; width: 20%;">Satisfaction (1-5)</th>
                            <th style="border: 1px solid #333; padding: 8px; width: 45%;">If Improvements Happen, Rank 1
                                to 4. "Use each rank only per row. 1 = most helpful, 4 = least helpful."</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="border: 1px solid #333; padding: 8px; text-align: center; font-weight: bold;">IQ01</td>
                            <td style="border: 1px solid #333; padding: 8px;">Learning goals are clearly communicated
                            </td>
                            <td style="border: 1px solid #333; padding: 8px;">
                                <div style="display: flex; flex-direction: column;">
                                    <div style="display: flex; justify-content: space-around; margin-bottom: 5px;">
                                        <label><input type="radio" th:field="*{iq01Satisfaction}" value="1">1</label>
                                        <label><input type="radio" th:field="*{iq01Satisfaction}" value="2">2</label>
                                        <label><input type="radio" th:field="*{iq01Satisfaction}" value="3">3</label>
                                    </div>
                                    <div style="display: flex; justify-content: space-around;">
                                        <label><input type="radio" th:field="*{iq01Satisfaction}" value="4">4</label>
                                        <label><input type="radio" th:field="*{iq01Satisfaction}" value="5">5</label>
                                    </div>
                                </div>
                                <div class="error" th:if="${#fields.hasErrors('iq01Satisfaction')}" th:errors="*{iq01Satisfaction}"></div>
                            </td>
                            <td style="border: 1px solid #333; padding: 8px;">
						    Pre-session briefs 
						    <input type="number" class="form-input rank-group" data-group="iq01" style="width: 45px; height: 25px;" 
						           th:field="*{iq01Rank1}" min="1" max="4" value="1" required>
						
						    Visual summaries 
						    <input type="number" class="form-input rank-group" data-group="iq01" style="width: 45px; height: 25px;" 
						           th:field="*{iq01Rank2}" min="1" max="4" value="2" required><br>
						
						    Live Q&A sessions 
						    <input type="number" class="form-input rank-group" data-group="iq01" style="width: 45px; height: 25px;" 
						           th:field="*{iq01Rank3}" min="1" max="4" value="3" required>
						
						    Current Approach is Effective 
						    <input type="number" class="form-input rank-group" data-group="iq01" style="width: 45px; height: 25px;" 
						           th:field="*{iq01Rank4}" min="1" max="4" value="4" required>
						</td>

                        </tr>
                        <tr>
                            <td style="border: 1px solid #333; padding: 8px; text-align: center; font-weight: bold;">IQ02</td>
                            <td style="border: 1px solid #333; padding: 8px;">Course content aligns well with the
                                syllabus</td>
                            <td style="border: 1px solid #333; padding: 8px;">
                                <div style="display: flex; flex-direction: column;">
                                    <div style="display: flex; justify-content: space-around; margin-bottom: 5px;">
                                        <label><input type="radio" th:field="*{iq02Satisfaction}" value="1">1</label>
                                        <label><input type="radio" th:field="*{iq02Satisfaction}" value="2">2</label>
                                        <label><input type="radio" th:field="*{iq02Satisfaction}" value="3">3</label>
                                    </div>
                                    <div style="display: flex; justify-content: space-around;">
                                        <label><input type="radio" th:field="*{iq02Satisfaction}" value="4">4</label>
                                        <label><input type="radio" th:field="*{iq02Satisfaction}" value="5">5</label>
                                    </div>
                                </div>
                                <div class="error" th:if="${#fields.hasErrors('iq02Satisfaction')}" th:errors="*{iq02Satisfaction}"></div>
                            </td>
                            <td style="border: 1px solid #333; padding: 8px;">
			    Real-time updates 
			    <input type="number" class="form-input rank-group" data-group="iq02" 
			           style="width: 45px; height: 25px;" th:field="*{iq02Rank1}" min="1" max="4" value="1" required> 
			
			    Personalized syllabus guides
			    <input type="number" class="form-input rank-group" data-group="iq02" 
			           style="width: 45px; height: 25px;" th:field="*{iq02Rank2}" min="1" max="4" value="2" required><br>
			
			    Supplementary modules 
			    <input type="number" class="form-input rank-group" data-group="iq02" 
			           style="width: 45px; height: 25px;" th:field="*{iq02Rank3}" min="1" max="4" value="3" required> 
			
			    Current Approach is Effective
			    <input type="number" class="form-input rank-group" data-group="iq02" 
			           style="width: 45px; height: 25px;" th:field="*{iq02Rank4}" min="1" max="4" value="4" required>
</td>

                        </tr>
                        <tr>
                            <td style="border: 1px solid #333; padding: 8px; text-align: center; font-weight: bold;">IQ03</td>
                            <td style="border: 1px solid #333; padding: 8px;">Faculty explain lessons clearly</td>
                            <td style="border: 1px solid #333; padding: 8px;">
                                <div style="display: flex; flex-direction: column;">
                                    <div style="display: flex; justify-content: space-around; margin-bottom: 5px;">
                                      <label><input type="radio" th:field="*{iq03Satisfaction}" value="1">1</label>
                                        <label><input type="radio" th:field="*{iq03Satisfaction}" value="2">2</label>
                                        <label><input type="radio" th:field="*{iq03Satisfaction}" value="3">3</label>
                                    </div>
                                    <div style="display: flex; justify-content: space-around;">
                                        <label><input type="radio" th:field="*{iq03Satisfaction}" value="4">4</label>
                                        <label><input type="radio" th:field="*{iq03Satisfaction}" value="5">5</label>
                                    </div>
                                </div>
                                <div class="error" th:if="${#fields.hasErrors('iq03Satisfaction')}" th:errors="*{iq03Satisfaction}"></div>
                            </td>
                            <td style="border: 1px solid #333; padding: 8px;">
								    Recorded sessions 
								    <input type="number" class="form-input rank-group" data-group="iq03" 
								           style="width: 45px; height: 25px;" th:field="*{iq03Rank1}" min="1" max="4" value="1" required>
								
								    Classroom evaluations 
								    <input type="number" class="form-input rank-group" data-group="iq03" 
								           style="width: 45px; height: 25px;" th:field="*{iq03Rank2}" min="1" max="4" value="2" required><br>
								
								    Q&A follow-ups 
								    <input type="number" class="form-input rank-group" data-group="iq03" 
								           style="width: 45px; height: 25px;" th:field="*{iq03Rank3}" min="1" max="4" value="3" required>
								
								    Current Approach is Effective 
								    <input type="number" class="form-input rank-group" data-group="iq03" 
								           style="width: 45px; height: 25px;" th:field="*{iq03Rank4}" min="1" max="4" value="4" required>
								</td>

                        </tr>
                        <tr>
                            <td style="border: 1px solid #333; padding: 8px; text-align: center; font-weight: bold;">IQ04</td>
                            <td style="border: 1px solid #333; padding: 8px;">Evaluations are fair and transparent</td>
                            <td style="border: 1px solid #333; padding: 8px;">
                                <div style="display: flex; flex-direction: column;">
                                    <div style="display: flex; justify-content: space-around; margin-bottom: 5px;">
                                        <label><input type="radio" th:field="*{iq04Satisfaction}" value="1">1</label>
                                        <label><input type="radio" th:field="*{iq04Satisfaction}" value="2">2</label>
                                        <label><input type="radio" th:field="*{iq04Satisfaction}" value="3">3</label>
                                    </div>
                                    <div style="display: flex; justify-content: space-around;">
                                        <label><input type="radio" th:field="*{iq04Satisfaction}" value="4">4</label>
                                        <label><input type="radio" th:field="*{iq04Satisfaction}" value="5">5</label>
                                    </div>
                                </div>
                                <div class="error" th:if="${#fields.hasErrors('iq04Satisfaction')}" th:errors="*{iq04Satisfaction}"></div>
                            </td>
                            <td style="border: 1px solid #333; padding: 8px;">
							    Clear grading rules 
							    <input type="number" class="form-input rank-group" data-group="iq04"
							           style="width: 45px; height: 25px;" th:field="*{iq04Rank1}" min="1" max="4" value="1" required>
							
							    Peer-review insights
							    <input type="number" class="form-input rank-group" data-group="iq04"
							           style="width: 45px; height: 25px;" th:field="*{iq04Rank2}" min="1" max="4" value="2" required><br>
							
							    OCR-based answer checking 
							    <input type="number" class="form-input rank-group" data-group="iq04"
							           style="width: 45px; height: 25px;" th:field="*{iq04Rank3}" min="1" max="4" value="3" required>
							
							    Current Approach is Effective 
							    <input type="number" class="form-input rank-group" data-group="iq04"
							           style="width: 45px; height: 25px;" th:field="*{iq04Rank4}" min="1" max="4" value="4" required>
							</td>

                        </tr>
                        <tr>
                            <td style="border: 1px solid #333; padding: 8px; text-align: center; font-weight: bold;">IQ05</td>
                            <td style="border: 1px solid #333; padding: 8px;">I trust the academic advice and support I
                                receive</td>
                            <td style="border: 1px solid #333; padding: 8px;">
                                <div style="display: flex; flex-direction: column;">
                                    <div style="display: flex; justify-content: space-around; margin-bottom: 5px;">
                                       <label><input type="radio" th:field="*{iq05Satisfaction}" value="1">1</label>
                                        <label><input type="radio" th:field="*{iq05Satisfaction}" value="2">2</label>
                                        <label><input type="radio" th:field="*{iq05Satisfaction}" value="3">3</label>
                                    </div>
                                    <div style="display: flex; justify-content: space-around;">
                                        <label><input type="radio" th:field="*{iq05Satisfaction}" value="4">4</label>
                                        <label><input type="radio" th:field="*{iq05Satisfaction}" value="5">5</label>
                                    </div>
                                </div>
                                <div class="error" th:if="${#fields.hasErrors('iq05Satisfaction')}" th:errors="*{iq05Satisfaction}"></div>
                            </td>
                            <td style="border: 1px solid #333; padding: 8px;">
							    Faculty-led seminars 
							    <input type="number" class="form-input rank-group" data-group="iq05" 
							           style="width: 45px; height: 25px;" th:field="*{iq05Rank1}" min="1" max="4" value="1" required>
							
							    Group case projects 
							    <input type="number" class="form-input rank-group" data-group="iq05" 
							           style="width: 45px; height: 25px;" th:field="*{iq05Rank2}" min="1" max="4" value="2" required><br>
							
							    Workshops on how to do projects/research 
							    <input type="number" class="form-input rank-group" data-group="iq05" 
							           style="width: 45px; height: 25px;" th:field="*{iq05Rank3}" min="1" max="4" value="3" required>
							
							    Current Approach is Effective 
							    <input type="number" class="form-input rank-group" data-group="iq05" 
							           style="width: 45px; height: 25px;" th:field="*{iq05Rank4}" min="1" max="4" value="4" required>
							</td>

                        </tr>
                        <tr>
                            <td style="border: 1px solid #333; padding: 8px; text-align: center; font-weight: bold;">IQ06</td>
                            <td style="border: 1px solid #333; padding: 8px;">The program is managed professionally and
                                efficiently</td>
                            <td style="border: 1px solid #333; padding: 8px;">
                                <div style="display: flex; flex-direction: column;">
                                    <div style="display: flex; justify-content: space-around; margin-bottom: 5px;">
                                       <label><input type="radio" th:field="*{iq06Satisfaction}" value="1">1</label>
                                        <label><input type="radio" th:field="*{iq06Satisfaction}" value="2">2</label>
                                        <label><input type="radio" th:field="*{iq06Satisfaction}" value="3">3</label>
                                    </div>
                                    <div style="display: flex; justify-content: space-around;">
                                        <label><input type="radio" th:field="*{iq06Satisfaction}" value="4">4</label>
                                        <label><input type="radio" th:field="*{iq06Satisfaction}" value="5">5</label>
                                    </div>
                                </div>
                                <div class="error" th:if="${#fields.hasErrors('iq06Satisfaction')}" th:errors="*{iq06Satisfaction}"></div>
                            </td>
                                <td style="border: 1px solid #333; padding: 8px;">
									    Real-time dashboards 
									    <input type="number" class="form-input rank-group" data-group="iq06" 
									           style="width: 45px; height: 25px;" th:field="*{iq06Rank1}" min="1" max="4" value="1" required>
									
									    Periodic progress reports
									    <input type="number" class="form-input rank-group" data-group="iq06" 
									           style="width: 45px; height: 25px;" th:field="*{iq06Rank2}" min="1" max="4" value="2" required><br>
									
									    Student advisory meetings
									    <input type="number" class="form-input rank-group" data-group="iq06" 
									           style="width: 45px; height: 25px;" th:field="*{iq06Rank3}" min="1" max="4" value="3" required>
									
									    Current Approach is Effective
									    <input type="number" class="form-input rank-group" data-group="iq06" 
									           style="width: 45px; height: 25px;" th:field="*{iq06Rank4}" min="1" max="4" value="4" required>
									</td>

                        </tr>
                    </tbody>
                </table>
            </div>

            <div style="margin-bottom: 30px;">


                <h3 style="text-align: center; margin-bottom: 15px;">PART C: Self-Check Learning & Feedback Integration
                    (new dimension - synthesized)</h3>

                <table style="width: 100%; border-collapse: collapse; border: 1px solid #333;">
                    <thead>
                        <tr>
                            <th style="border: 1px solid #333; padding: 8px; width: 10%;">Code</th>
                            <th style="border: 1px solid #333; padding: 8px; width: 25%;">Aspect</th>
                            <th style="border: 1px solid #333; padding: 8px; width: 20%;">Satisfaction (1-5)</th>
                            <th style="border: 1px solid #333; padding: 8px; width: 45%;">If Improvements Happen, Rank
                                1–4. "Use each rank only per row. 1 = most helpful, 4 = least helpful."</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="border: 1px solid #333; padding: 8px; text-align: center; font-weight: bold;">RLFB01</td>
                            <td style="border: 1px solid #333; padding: 8px;">I receive timely feedback that helps me
                                improve</td>
                            <td style="border: 1px solid #333; padding: 8px;">
                                <div style="display: flex; flex-direction: column;">
                                    <div style="display: flex; justify-content: space-around; margin-bottom: 5px;">
                                        <label><input type="radio" th:field="*{rlfb01Satisfaction}" value="1">1</label>
                                        <label><input type="radio" th:field="*{rlfb01Satisfaction}" value="2">2</label>
                                        <label><input type="radio" th:field="*{rlfb01Satisfaction}" value="3">3</label>
                                    </div>
                                    <div style="display: flex; justify-content: space-around;">
                                        <label><input type="radio" th:field="*{rlfb01Satisfaction}" value="4">4</label>
                                        <label><input type="radio" th:field="*{rlfb01Satisfaction}" value="5">5</label>
                                    </div>
                                </div>
                                <div class="error" th:if="${#fields.hasErrors('rlfb01Satisfaction')}" th:errors="*{rlfb01Satisfaction}"></div>
                            </td>
                            <td style="border: 1px solid #333; padding: 8px;">
							    Faster feedback turnaround 
							    <input type="number" class="form-input rank-input" style="width: 45px; height: 25px;"
							           th:field="*{rlfb01Rank1}" min="1" max="4" value="1" required><br>
							
							    Online feedback access 
							    <input type="number" class="form-input rank-input" style="width: 45px; height: 25px;"
							           th:field="*{rlfb01Rank2}" min="1" max="4" value="2" required><br>
							
							    Clear expectations shared 
							    <input type="number" class="form-input rank-input" style="width: 45px; height: 25px;"
							           th:field="*{rlfb01Rank3}" min="1" max="4" value="3" required><br>
							
							    Current approach is effective 
							    <input type="number" class="form-input rank-input" style="width: 45px; height: 25px;"
							           th:field="*{rlfb01Rank4}" min="1" max="4" value="4" required>
							</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </fieldset>
            
            

            <div style="text-align: center; margin-top: 20px;">
                 <button type="submit">Submit</button>
            </div>
        </form>
    </div>
    
    
    <script>
    document.querySelectorAll('.rank-group').forEach(input => {
        input.addEventListener('input', () => {
            const group = input.getAttribute('data-group');
            const allInGroup = document.querySelectorAll(`.rank-group[data-group='${group}']`);

            // collect current values
            const values = Array.from(allInGroup).map(el => el.value);
            const duplicates = values.filter((val, i, arr) => val && arr.indexOf(val) !== i);

            if (duplicates.length > 0) {
                alert(`Duplicate value "${duplicates[0]}" in group "${group}" not allowed. Each rank must be unique.`);
                input.value = '';
                input.focus();
            }
        });
    });
</script>
    
</body>

</html>
